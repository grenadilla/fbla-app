{% extends "base.html" %}
{% block page_content %}

<div class="container">
<table class="table table-bordered table-hover">
    <thead>
        <th>Book ID</th>
        <th>Copy ID</th>
        <th>Title</th>
        <th>Borrower ID</th>
        <th>Borrower</th>
        <th>Time Left</th>
    </thead>
    {% for copy in copies %}
    <tr>
        <td class="clickable-link" data-href={{ url_for('book', id=copy.book_id) }}>{{ copy.book_id }}</td>
        <td class="clickable-link" data-href={{ url_for('book', id=copy.book_id) }}>{{ copy.id }}</td>
        <td class="clickable-link" data-href={{ url_for('book', id=copy.book_id) }}>{{ copy.book.title }}</td>
        <td class="clickable-link" data-href={{ url_for('user', id=copy.borrower_id) }}>{{ copy.borrower_id }}</td>
        <td class="clickable-link" data-href={{ url_for('user', id=copy.borrower_id) }}>{{ copy.borrower.name }}</td>
        <td class="clickable-link" data-href={{ url_for('book', id=copy.book_id) }}>
        {% if copy.is_overdue() %}
            Overdue
        {% else %}
            {{ copy.time_left().days|string + " days, " +  (copy.time_left().seconds/3600)|int|string + " hours" }}
        {% endif %}
        </td>
    </tr>
    {% endfor %}
</table>
</div>
{% endblock %}
