{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% block page_content %}

{% block scripts %}
{{ super() }}
<script type="text/javascript" src={{ url_for('static', filename='links.js') }}></script>
{% endblock %}

{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
{% endblock %}

<div class="container">
<h1>Book Data</h1>
<table class="table table-bordered table-hover">
    <thead>
        <th>ID</th>
        <th>Title</th>
        <th>Author</th>
        <th>Available Copies</th>
    </thead>
    <tbody>
    {% for book in books %}
        <tr>
            <td class="clickable-link" data-href={{ url_for('book', id=book.id) }}>{{ book.id }}</td>
            <td class="clickable-link" data-href={{ url_for('book', id=book.id) }}>{{ book.title }}</td>
            <td class="clickable-link" data-href={{ url_for('author', id=book.author_id) }} >{{ book.author.name }}</td>
            <td>{{ book.available() ~ '/' ~ book.copies|length  }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
</div>
{% endblock %}
